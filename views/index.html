{% extends "./themes/" + themeName + ".html" %}

{% block styles %}
<link href="/assets/css/index.css" rel="stylesheet" type="text/css">
{% endblock %}

{% block scripts %}
<script>
$('.download').click(function(e) {
	$('#modal-download-set').modal('hide')
})
</script>
{% endblock %}



{% block head %}
<title>{{ _label | d($_wid) | d('n/a') | e }}</title>
<meta name="description" content="{{ table._text | d($_wid) | d('n/a') | e }}">
<meta name="author" content="">
{% endblock %}

{% block header %}
<div class="jumbotron">
	<h1>{{title}}</h1>
	<div class="pull-right">
		<a href="" data-toggle="modal" data-target="#modal-download-set"><span class="fa fa-cloud-download fa-5x"></span></a>
	</div>
	<p>{{description}}</p>
	<br>
</div>
{% endblock %}

{% block body %}
<!--
	<div id="recent-posts-2" class="widget widget_recent_entries">
	<h4 class="widgettitle">Nombre de documents</h4>
	<div class="badgenbdoc">{{_documents|length}} documents</div>

	</div>
-->
<div id="no-more-tables">
	<table class="table-bordered table-striped table-condensed cf">
		<thead class="cf">
			<tr>
				<th>URI</th>
				{% for name, con in _columns %}
				{% if con.primary == 'true' %}
				<th>{{ con.label }}</th>
				{% endif %}
				{% endfor %}
			</tr>
		</thead>
		<tbody>
			{% for doc in _documents %}
			<tr>
				<td data-title="URI">
					<a href="{{ doc._content.jsonld.@id }}/">{{ doc._content.jsonld.@id }}</a>
				</td>
				{% for name, con in _columns %}
				{% if con.primary == 'true' %}
				<td data-title="{{ con.label }}">{{doc._content.jsonld[name]}}</td>
				{% endif %}
				{% endfor %}
			</tr>
			{% endfor %}
		</tbody>
	</table>
</div>

<div class="modal" id="modal-download-set" tabindex="-1" role="dialog" aria-labelledby="modal-download-set-title">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h4 class="modal-title" id="modal-download-set-title">{{ __('Download set') }}</h4>
			</div>
			<div class="modal-body">
				<p>
				Le jeu de données est disponible sur ce site selon une syntaxe "tableau", avec les formats CSV, TSV ou Excel ou une syntaxe RDF (Resource description framework), avec les formats JSON-LD et N-Quads.
				</p>
				<p>
				La licence d'utilisation de ces données est disponible à cette adresse : <a href="http://lod.istex.fr/licence">http://lod.istex.fr/licence</a>.
				</p>
				<p>
				Ils sont librement téléchargeable au travers de ces 5 fichiers d'export :
				</p>
				<ul class="list-inline text-center">
					<li>
						<a class="download" href="?alt=xlsx"><span class="fa fa-file-excel-o fa-3x"></span><br> Excel</a>
					</li>
					<li>
						<a class="download" href="?alt=tsv"><span class="fa fa-list fa-3x"></span><br> TSV</a>
					</li>
					<li>
						<a class="download" href="?alt=csv"><span class="fa fa-table fa-3x"></span><br> CSV</a>
					</li>
					<li>
						<a class="download" href="?alt=nq"><span class="fa fa-bars fa-3x"></span><br> N-Quads</a>
					</li>
					<li>
						<a class="download" href="?alt=nq.xlsx"><span class="fa fa-file-excel-o fa-3x"></span><br><em> Excel (RDF)</em></a>
					</li>
					<li>
						<a class="download" href="?alt=json"><span class="fa fa-file-o fa-3x"></span><br> JSON LD</a>
					</li>
				</ul>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal" data-target="#modal-download-set">{{ __('Close') }}</button>
			</div>
		</div>
	</div>
</div>

{% endblock %}



{% block sidebar %}


{{ super() }}


<div id="recent-posts-2" class="widget widget_recent_entries">
	<h4 class="widgettitle">Nombre de documents</h4>
	<div class="badgenbdoc">{{_documents|length}}</div>
</div>



{% endblock %}





